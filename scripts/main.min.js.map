{"version":3,"sources":["main.js"],"names":["$","document","ready","on","removeClass","dropdownId","this","attr","dropdownElement","addClass","vThis","is","div","createElement","style","overflowY","width","height","body","append","scrollWidth","offsetWidth","clientWidth","remove","renderClickableBG","isDark","elementToClose","renderParent","blockScroll","css","fadeOut","fadeIn","e","preventDefault","modalToOpen","modalToClose","parents","find","toggleClass","parent","slideToggle","Swiper","loop","lazy","navigation","nextEl","prevEl","pagination","el","clickable","sideSlidesTransparency","slider","visibleSlides","eq","prev","next","cartSlider","each","spaceBetween","breakpoints","767","forEach","element","ProductSlider","centeredSlides","slidesPerView","watchSlidesProgress","watchSlidesVisibility","watchOverflow","init","screen","initProductSlider","productCardThumbSlider","direction","phoneInputs","thumbs","swiper","600","1199","querySelectorAll","maskOptions","mask","IMask","closePopup","popup","prop","change","isChecked","isAllowed","filterText","text","hasClass","optionValue","customSelect","setTimeout","val","customNum","siblings","Number","length","datepicker","autoClose","mapsToLoad","id","mapWithForm","item","mapId","mapJsonPath","myGeoObjects","objectsCounter","getJSON","data","city","cityElem","cityCenterCoords","className","innerText","shops","addEventListener","shopsWrapper","shop","shopElem","innerHTML","name","closest","classList","add","querySelector","checked","trigger","address","worktime","phone","balloonInner","placemark","ymaps","Placemark","coords","balloonContent","hideIconOnBalloonOpen","balloonOffset","iconLayout","iconImageHref","push","myMap","setCenter","balloon","isOpen","close","open","elementWhereToScroll","documentElement","animate","scrollTop","offset","top","citiesNum","cityCenter","citiesBtn","Map","center","zoom","controls","geoObjects","behaviors","disable","prepareMap","check_if_load","checkLoadMap","url","callback","script","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","moveElement","target","screenSize","appendTo","prependTo","start","colorStars","starsScore","numberOfFilledStars","Math","trunc","percentOfLastStar","index","off","cartItem","elementToScroll"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n\r\n\r\n    /* Menu Dropdown */\r\n    $('.js-menu-dropdown').on('mouseover', function () {\r\n        $('.js-menu-dropdown').removeClass('active');\r\n        $('.header__dropdown').removeClass('show');\r\n        let dropdownId = $(this).attr('data-dropdown-id');\r\n        let dropdownElement = $(`#${dropdownId}`);\r\n        $(this).addClass('active');\r\n        dropdownElement.addClass('show');\r\n        $(this).on('mouseout', function () {\r\n            let vThis = $(this);\r\n            if (!dropdownElement.is(':hover')) {\r\n                $(this).removeClass('active');\r\n                $(`#${dropdownId}`).removeClass('show');\r\n            }\r\n            dropdownElement.on('mouseleave', function () {\r\n                vThis.removeClass('active');\r\n                $(this).removeClass('show');\r\n            });\r\n        })\r\n    })\r\n    /* END Menu Dropdown */\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n    /*--END Overflow scroll glitch fix---*/\r\n\r\n    /* Modals */\r\n    let renderClickableBG = (isDark, elementToClose, renderParent=$('body'), blockScroll=true) => {\r\n        renderParent.append('<div class=\"clickable-bg\"></div>');\r\n        if (blockScroll) {\r\n            $('body').addClass('modal-opened').css('padding-right', scrollWidth);\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $('.clickable-bg').on('click', function () {\r\n            $(this).remove();\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                $('body').removeClass('modal-opened').css('padding-right', 0);\r\n            }\r\n        })\r\n    }\r\n\r\n    $(document).on('click', '.js-open-modal', function (e) {\r\n        e.preventDefault();\r\n        let modalToOpen = $(this).attr('data-modal');\r\n        $(`#${modalToOpen}`).addClass('opened').fadeOut(1).fadeIn(400);\r\n        $('body').addClass('modal-opened').css('padding-right', scrollWidth);\r\n        renderClickableBG(true, $(`#${modalToOpen}`), $(`#${modalToOpen}`))\r\n    })\r\n\r\n    $(document).on('show', '.js-modal-custom', function (e) {\r\n        e.preventDefault();\r\n        let modalToOpen = $(this).attr('id');\r\n        $(`#${modalToOpen}`).addClass('opened').fadeOut(1).fadeIn(400);\r\n        $('body').addClass('modal-opened').css('padding-right', scrollWidth);\r\n        renderClickableBG(true, $(`#${modalToOpen}`), $(`#${modalToOpen}`))\r\n    })\r\n\r\n    $(document).on('click', '.js-close-modal', function () {\r\n        let modalToClose = $(this).parents('.modal');\r\n        modalToClose.removeClass('opened');\r\n        $('body').removeClass('modal-opened').css('padding-right', 0);\r\n        modalToClose.find(('.clickable-bg')).remove();\r\n    })\r\n\r\n    /* END Modals */\r\n\r\n    /* Mobile Menu */\r\n    $('.js-open-mob-menu').on('click', function () {\r\n        $('.mobile-menu').addClass('opened');\r\n        renderClickableBG(true, $('.mobile-menu'));\r\n    });\r\n\r\n    $('.js-close-mobile-menu').on('click', function () {\r\n        $('.clickable-bg').remove();\r\n        $('.mobile-menu').removeClass('opened');\r\n        $('body').removeClass('modal-opened').css('padding-right', 0)\r\n    });\r\n\r\n    $('.js-open-dropdown').on('click', function () {\r\n        $(this).find($('.mobile-menu__nav-dropdown')).addClass('active');\r\n        $('.mobile-menu__top').addClass('show-back');\r\n        $('.mobile-menu').addClass('dd-opened');\r\n    })\r\n\r\n    $('.js-mob-back').on('click', function () {\r\n        $('.mobile-menu__nav-dropdown.active').removeClass('active');\r\n        $('.mobile-menu__top').removeClass('show-back');\r\n        $('.mobile-menu').removeClass('dd-opened');\r\n    })\r\n\r\n    $(document).on('click', '.js-filter-dropdown', function () {\r\n        $(this).toggleClass('active');\r\n        $(this).parent().find('.js-filter-dropdown-box').slideToggle('300');\r\n    })\r\n    /* END Mobile Menu */\r\n\r\n    /* Sliders */\r\n\r\n    const mainSlider = new Swiper('.js-main-slider', {\r\n        loop: true,\r\n        lazy: true,\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        pagination: {\r\n            el: '.slider-pagination',\r\n            clickable: true,\r\n        }\r\n    });\r\n\r\n    let sideSlidesTransparency = (slider) => {\r\n        let visibleSlides = slider.find('.swiper-slide-visible');\r\n        slider.find('.swiper-slide').removeClass('semi-transparent')\r\n        visibleSlides.eq(0).addClass('semi-transparent')\r\n        visibleSlides.eq(0).prev().addClass('semi-transparent')\r\n        visibleSlides.eq(-1).addClass('semi-transparent')\r\n        visibleSlides.eq(-1).next().addClass('semi-transparent')\r\n    }\r\n\r\n    let initProductSlider = (element) => {\r\n        const ProductSlider = new Swiper(element, {\r\n            loop: true,\r\n            lazy: true,\r\n            centeredSlides: false,\r\n            slidesPerView: 2,\r\n            spaceBetween: 20,\r\n            navigation: {\r\n                nextEl: '.slider-button--next',\r\n                prevEl: '.slider-button--prev',\r\n            },\r\n            watchSlidesProgress: true,\r\n            watchSlidesVisibility: true,\r\n            watchOverflow: true,\r\n            breakpoints: {\r\n                767: {\r\n                    centeredSlides: true,\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 0,\r\n                }\r\n            },\r\n            on: {\r\n                init: function () {\r\n                    if (screen.width > 991) {\r\n                        let visibleSlides = $(element).find('.swiper-slide-visible');\r\n                        visibleSlides.eq(0).addClass('semi-transparent')\r\n                        visibleSlides.eq(0).prev().addClass('semi-transparent')\r\n                        visibleSlides.eq(-1).addClass('semi-transparent')\r\n                        visibleSlides.eq(-1).next().addClass('semi-transparent')\r\n                    }\r\n                },\r\n            }\r\n        });\r\n\r\n        if (screen.width > 991) {\r\n            ProductSlider.on('slideChange', function () {\r\n                sideSlidesTransparency($(element));\r\n            });\r\n            ProductSlider.on('touchEnd', function () {\r\n                sideSlidesTransparency($(element));\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    let productSliders = ['.js-best-sell-slider', '.js-hit-slider', '.js-category-slider', '.js-you-will-like-slider', '.js-buy-also-slider']\r\n\r\n    productSliders.forEach((element) => {\r\n        initProductSlider(element);\r\n    })\r\n\r\n    $('.js-inner-slider').each(function () {\r\n        const innerProductSlider = new Swiper($(this)[0], {\r\n            lazy: true,\r\n            pagination: {\r\n                el: '.slider-pagination',\r\n                clickable: true,\r\n            }\r\n        });\r\n    })\r\n\r\n    function cartSlider() {\r\n        $('.js-cart-slider').each(function () {\r\n            const cartSlider = new Swiper($(this)[0], {\r\n                lazy: true,\r\n                spaceBetween: 0,\r\n                navigation: {\r\n                    nextEl: '.slider-button--next',\r\n                    prevEl: '.slider-button--prev',\r\n                },\r\n                breakpoints: {\r\n                    767: {\r\n                        spaceBetween: 15,\r\n                    }\r\n                },\r\n            });\r\n        })\r\n    }\r\n\r\n    cartSlider();\r\n\r\n    $(document).on('update-cart', function(){\r\n        cartSlider();\r\n    });\r\n\r\n\r\n    const productCardThumbSlider = new Swiper('.js-product-thumb-slider', {\r\n        lazy: true,\r\n        slidesPerView: 'auto',\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        spaceBetween: 10,\r\n        breakpoints: {\r\n            767: {\r\n                slidesPerView: 5,\r\n                direction: 'vertical',\r\n            }\r\n        },\r\n    });\r\n\r\n    const productCardMainSlider = new Swiper('.js-product-main-slider', {\r\n        lazy: true,\r\n        slidesPerView: 1,\r\n        thumbs: {\r\n            swiper: productCardThumbSlider,\r\n        },\r\n    });\r\n\r\n    const testimonialsSlider = new Swiper('.js-testimonials-slider', {\r\n        spaceBetween: 10,\r\n        lazy: true,\r\n        slidesPerView: 1,\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        breakpoints: {\r\n            600: {\r\n                spaceBetween: 30,\r\n            },\r\n            767: {\r\n                spaceBetween: 140,\r\n            }\r\n        },\r\n    });\r\n\r\n    const newsSlider = new Swiper('.js-news-slider', {\r\n        spaceBetween: 60,\r\n        lazy: true,\r\n        slidesPerView: '1',\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        breakpoints: {\r\n            1199: {\r\n                slidesPerView: '2',\r\n            },\r\n        },\r\n    });\r\n\r\n\r\n    /* END Sliders */\r\n\r\n    /* Inputs */\r\n\r\n    const phoneInputs = document.querySelectorAll(\"input[type='tel']\");\r\n    const maskOptions = {\r\n        mask: '+{0}(000)000-00-00'\r\n    };\r\n    phoneInputs.forEach((element) => {\r\n        const mask = IMask(element, maskOptions);\r\n    })\r\n\r\n    let removeFilterItem = (target, text) => {\r\n        if (screen.width <= 600) {\r\n            if (target.hasClass('product-filter__item--type')) {\r\n                let filter = $('.mobile-filters__dropdown--type').find('.form-group.choosen');\r\n                filter.removeClass('choosen');\r\n                filter.find('.custom-radio').prop('checked', false);\r\n            }\r\n\r\n            $('.mobile-filters__dropdown').find('.custom-checkbox__label').each(function () {\r\n                if ($(this).text() === text) {\r\n                    $(this).parents('.form-group').removeClass('checked');\r\n                    $(this).parents('.form-group').find('.js-custom-cb').removeClass('checked');\r\n                    $(this).parents('.form-group').find('.custom-radio').prop('checked', false);\r\n                }\r\n            })\r\n        }\r\n        target.remove();\r\n    }\r\n\r\n    let addFilter = (elementText, parent, additionalClass='') => {\r\n\r\n        let filterItem = $('<div/>', {\r\n            \"class\": `product-filter__item js-filter-item ${additionalClass}`,\r\n        })\r\n        filterItem.html(`<span>${elementText}</span>\r\n                <div class=\"product-filter__item-bg product-filter__item-bg--red\">\r\n                    <picture>\r\n                        <source data-srcset=\"/img/prod-filter-bg-red.webp\" type=\"image/webp\" srcset=\"/img/prod-filter-bg-red.webp\">\r\n                        <img class=\" lazyloaded\" data-src=\"/img/prod-filter-bg-red.png\" alt=\"image\" width=\"107\" height=\"31\" src=\"/img/prod-filter-bg-red.png\">\r\n                    </picture>\r\n                </div>`)\r\n        filterItem.on('click', function () {\r\n            removeFilterItem(filterItem, elementText)\r\n        })\r\n        parent.append(filterItem);\r\n    }\r\n\r\n    if (screen.width <= 600) {\r\n        $('.product-filter__sortby-title').addClass('js-open-popup');\r\n    }\r\n\r\n    let closePopup = (popup) => {\r\n        popup.removeClass('opened');\r\n        $('.clickable-bg').remove();\r\n    }\r\n\r\n    $(document).on('click', '.js-radio', function () {\r\n        $(this).parent().find('.js-radio').removeClass('choosen');\r\n        $(this).addClass('choosen');\r\n        $(this).find('.custom-radio').prop('checked', true).change();\r\n    });\r\n\r\n    $(document).on('click', '.js-filter-radio', function () {\r\n        $(this).parent().find('.js-filter-radio').removeClass('choosen');\r\n        $(this).addClass('choosen');\r\n        $(this).find('.custom-radio').prop('checked', true);\r\n        if (screen.width > 600) {\r\n            //$(this).parents('.product-filter__items-box').find('.js-filter-item').remove();\r\n            //addFilter($(this).find('.custom-radio__label').text(), $(this).parents('.product-filter__items-box'));\r\n            closePopup($(this).parents('.js-popup'));\r\n        }\r\n        else {\r\n            $('.mobile-filters__chosen-filters').find('.js-filter-item.product-filter__item--type').remove();\r\n            //addFilter($(this).find('.custom-radio__label').text(), $('.mobile-filters__chosen-filters'), 'product-filter__item--type');\r\n        }\r\n    })\r\n\r\n    $(document).on('click', '.js-checkbox', function () {\r\n        $(this).toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n        let isChecked = $(this).find('.custom-checkbox').prop('checked');\r\n        $(this).find('.custom-checkbox').prop('checked', !isChecked);\r\n        $(this).find('.custom-checkbox').attr('checked', !isChecked);\r\n    });\r\n\r\n    $(document).on('click', '.js-filter-checkbox', function () {\r\n        $(this).toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n        let isChecked = $(this).find('.custom-checkbox').prop('checked');\r\n        let isAllowed = true;\r\n        $(this).find('.custom-checkbox').prop('checked', !isChecked);\r\n        if (screen.width <= 600) {\r\n            let filterText = $(this).find('.custom-checkbox__label').text();\r\n            $('.mobile-filters__chosen-filters .product-filter__item span').each(function () {\r\n                if ($(this).text() === filterText) {\r\n                    $(this).parents('.js-filter-item').remove();\r\n                    isAllowed = false;\r\n                }\r\n            });\r\n            if (isAllowed) {\r\n                //addFilter(filterText, $('.mobile-filters__chosen-filters'));\r\n            }\r\n        }\r\n    });\r\n\r\n    $(document).on('click', '.js-popup-apply', function (e) {\r\n        e.preventDefault();\r\n        //$(this).parents('.product-filter__items-box').find('.js-filter-item').remove();\r\n        $(this).parents('.js-popup').find('.js-filter-checkbox').each(function () {\r\n            if ($(this).hasClass('checked')) {\r\n                //addFilter($(this).find('.custom-checkbox__label').text(), $(this).parents('.product-filter__items-box'));\r\n            }\r\n        });\r\n        closePopup($(this).parents('.js-popup'));\r\n    });\r\n\r\n    $(document).on('click', '.js-sort-item', function () {\r\n        $(this).parents('.product-filter__sortby').find('.js-sort-text').text($(this).text())\r\n        closePopup($(this).parents('.js-popup'));\r\n    });\r\n\r\n\r\n\r\n    // $('.js-filter-item').on('click', function () {\r\n    //     removeFilterItem($(this), $(this).find('span').text())\r\n    // })\r\n\r\n    $(document).on('click', '.js-custom-select .custom-select-option', function () {\r\n        let optionValue = $(this).text();\r\n        let customSelect = $(this).parents('.js-custom-select');\r\n        customSelect.find('.custom-select__value').text(optionValue);\r\n        setTimeout(function () {\r\n            $('.clickable-bg').remove();\r\n        }, 50);\r\n        customSelect.find('option').each(function () {\r\n            if ($(this).text() === optionValue) {\r\n                customSelect.find('select').val($(this).attr('value')).change();\r\n            }\r\n        })\r\n    })\r\n\r\n    $(document).on('click', '.js-qnty-minus', function () {\r\n        let customNum = $(this).siblings('.js-qnty-num');\r\n        if (customNum.val() >= 2 ) {\r\n            customNum.val(Number(customNum.val()) - 1).change();\r\n        }\r\n    })\r\n\r\n    $(document).on('click', '.js-qnty-plus', function () {\r\n        let customNum = $(this).siblings('.js-qnty-num')\r\n        customNum.val(Number(customNum.val()) + 1).change();\r\n    })\r\n\r\n    /* END  Inputs */\r\n\r\n    /*------ Datepicker -------*/\r\n    if ($('.datepicker-wrapper').length > 0) {\r\n\r\n        $('#account-birth-date').datepicker({\r\n            autoClose: true,\r\n        })\r\n\r\n    }\r\n    /*------ END Datepicker -------*/\r\n\r\n\r\n\r\n    /*--Maps--*/\r\n    function loadScript(url, callback){\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState){  //IE\r\n            script.onreadystatechange = function(){\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\"){\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function(){\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    //Айдишники и параметры карт для загрузки\r\n    let mapsToLoad = [\r\n        {\r\n            id: 'modal-map-container',\r\n            mapWithForm: true,\r\n        },\r\n        {\r\n            id: 'page-map-container',\r\n            mapWithForm: false,\r\n        },\r\n    ]\r\n\r\n    function init(){\r\n        // Создание карт.\r\n        function prepareMap (mapId, mapWithForm) {\r\n\r\n            let mapJsonPath = $('.js-shops').attr('data-json');\r\n            let myGeoObjects = [];\r\n            let objectsCounter = 0;\r\n            $.getJSON(mapJsonPath, function(data) {\r\n                data.forEach(city => {\r\n                    let cityElem = document.createElement('div');\r\n                    let cityCenterCoords = [0, 0];\r\n                    cityElem.className = `shops__city ${(objectsCounter === 0 ? \"opened\" : \"\")} js-slide-down`;\r\n                    cityElem.innerText = `${city.city} ${city.shops.length}`;\r\n\r\n                    cityElem.addEventListener('click', function () {\r\n                        $(this).next('.js-slide-down-wrapper').slideToggle();\r\n                        $(this).toggleClass('opened');\r\n                    })\r\n\r\n                    let shopsWrapper = document.createElement('div');\r\n                    shopsWrapper.className = `shops__cities-box ${(objectsCounter === 0 ? \"opened\" : \"\")} js-slide-down-wrapper`;\r\n\r\n                    city.shops.forEach(shop => {\r\n                        let shopElem = null;\r\n                        if (mapWithForm) {\r\n                            shopElem = document.createElement('div');\r\n                            shopElem.className = \"form-group form-group--radio js-radio\";\r\n                            shopElem.innerHTML = `\r\n                            <label class=\"custom-radio__label\" for=\"modal-radio[${objectsCounter}]\">${shop.name}</label>\r\n                            <input class=\"custom-radio js-shop-input\" type=\"radio\" name=\"form-group-radio\" value=\"${shop.id}\" id=\"modal-radio[${objectsCounter}]\">`\r\n                            shopElem.addEventListener('click', function () {\r\n                                this.closest('.shops__list').querySelectorAll('.js-radio').forEach(function (item) {\r\n                                    item.classList.remove('choosen');\r\n                                })\r\n                                this.classList.add('choosen');\r\n\r\n                                this.querySelector('.custom-radio').checked = true;\r\n\r\n                                $(this).find('.js-shop-input').trigger('change')\r\n                            })\r\n                            shopsWrapper.append(shopElem);\r\n                        }\r\n                        else {\r\n                            shopElem = document.createElement('div');\r\n                            shopElem.className = \"shops__item\";\r\n                            shopElem.innerHTML = `\r\n                                <div class=\"shops__item-inner shops__item-address\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"/img/svg/sprite.svg#marker\"></use>\r\n                                    </svg>\r\n                                    ${shop.address}\r\n                                </div>\r\n                                <div class=\"shops__item-inner shops__item-worktime\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"/img/svg/sprite.svg#clock\"></use>\r\n                                    </svg>\r\n                                    Режим работы ${shop.worktime}\r\n                                </div>\r\n                                <a href=\"tel:${shop.phone}\" class=\" shops__item-inner shops__item-phone\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"/img/svg/sprite.svg#phone2\"></use>\r\n                                    </svg>\r\n                                    ${shop.phone}\r\n                                </a>`\r\n                            shopsWrapper.append(shopElem);\r\n                        }\r\n\r\n                        objectsCounter++;\r\n                        let balloonInner =\r\n                            `<div class=\"custom-balloon\">\r\n                                    <div class=\"custom-balloon__bg\"></div>\r\n                                    <div class=\"custom-balloon__text\"><b>${shop.name}</b></div>\r\n                                    <div class=\"custom-balloon__text\">${shop.address}</div>\r\n                                    <div class=\"custom-balloon__text\">Режим работы ${shop.worktime}</div>\r\n                             </div>`\r\n\r\n                        let placemark = new ymaps.Placemark(shop.coords, {\r\n                                balloonContent: balloonInner,\r\n                            },\r\n                            {\r\n                                hideIconOnBalloonOpen: false,\r\n                                balloonOffset: [4, -37],\r\n                                iconLayout: 'default#image',\r\n                                iconImageHref: 'img/svg/marker.svg',\r\n                            });\r\n\r\n\r\n                        myGeoObjects.push(placemark)\r\n\r\n                        shopElem.addEventListener('click', function () {\r\n                            myMap.setCenter(shop.coords, 17);\r\n                            if (!placemark.balloon.isOpen()) {\r\n                                placemark.balloon.open();\r\n                            } else {\r\n                                placemark.balloon.close();\r\n                            }\r\n                            if (screen.width < 991) {\r\n                                let elementWhereToScroll;\r\n                                if ($('#modal-map').length > 0) {\r\n                                    elementWhereToScroll = '.modal__box';\r\n                                }\r\n                                else {\r\n                                    elementWhereToScroll = [document.documentElement, document.body]\r\n                                }\r\n                                $(elementWhereToScroll).animate({\r\n                                    scrollTop: $('.shops__map-container').offset().top - 50\r\n                                }, 700);\r\n                            }\r\n                        })\r\n                        cityCenterCoords[0] +=Number(shop.coords[0]);\r\n                        cityCenterCoords[1] +=Number(shop.coords[1]);\r\n                    })\r\n                    let citiesNum = city.shops.length;\r\n                    let cityCenter = [cityCenterCoords[0] / citiesNum, cityCenterCoords[1] / citiesNum];\r\n                    document.querySelector('.shops__list').append(cityElem)\r\n                    document.querySelector('.shops__list').append(shopsWrapper)\r\n                    let citiesBtn = document.createElement('div');\r\n                    citiesBtn.className = `common-btn-simple`;\r\n                    citiesBtn.innerText = `Все магазины г. ${city.city}`\r\n                    citiesBtn.addEventListener('click', function () {\r\n                        myMap.setCenter(cityCenter, 13);\r\n                    })\r\n                    shopsWrapper.append(citiesBtn)\r\n                })\r\n\r\n\r\n                var myMap = new ymaps.Map(mapId, {\r\n                    center: data[0].shops[0].coords,\r\n                    zoom: 13,\r\n                    controls: ['zoomControl'],\r\n                });\r\n\r\n                myGeoObjects.forEach(item => {\r\n                    myMap.geoObjects.add(item);\r\n                })\r\n                myMap.behaviors.disable('scrollZoom');\r\n            });\r\n\r\n        }\r\n\r\n        mapsToLoad.forEach(item => {\r\n            if ($('#' + item.id).length > 0) {\r\n                prepareMap(item.id, item.mapWithForm)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    let check_if_load = false;\r\n    const checkLoadMap = () => {\r\n        if (!check_if_load) {\r\n            check_if_load = true;\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function(){\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n    }\r\n\r\n    if ($('.map-container').length > 0) {\r\n        checkLoadMap();\r\n    }\r\n\r\n\r\n    /*--END Maps--*/\r\n\r\n\r\n    /* Misc */\r\n    $('.js-toggle-active').on('click', function () {\r\n        $(this).toggleClass('active');\r\n    })\r\n\r\n    let moveElement = (element, target, screenSize, append=true) => {\r\n        if (screen.width < screenSize) {\r\n            if (append) {\r\n                $(element).appendTo(target);\r\n            }\r\n            else {\r\n                $(element).prependTo(target);\r\n            }\r\n        }\r\n    }\r\n\r\n    moveElement('.optics-block__title', '.optics-block__inner', 768, false);\r\n\r\n    moveElement('.optics-block__btn', '.optics-block .container', 768);\r\n\r\n    moveElement('.product-filter__sortby', '.product-filter__mobile-wrapper', 991 );\r\n\r\n    moveElement('.product-filter__sortby .product-filter__popup', '.product-filter__sortby', 600 );\r\n\r\n    moveElement('.product-filter__popup--type .form-group', '.mobile-filters__dropdown--type', 600 );\r\n\r\n    moveElement('.product-filter__popup--material .form-group', '.mobile-filters__dropdown--material', 600 );\r\n\r\n    moveElement('.product-filter__popup--color .form-group', '.mobile-filters__dropdown--color', 600 );\r\n\r\n    moveElement('.product-filter__popup--price .form-group', '.mobile-filters__dropdown--price', 600 );\r\n\r\n\r\n\r\n    $(document).on('click', '.js-open-popup', function () {\r\n        $('.js-open-popup').removeClass('opened');\r\n        let popup = $(this).parent().find('.js-popup');\r\n        popup.toggleClass('opened');\r\n        renderClickableBG(false, popup, $('body'), false);\r\n    })\r\n\r\n\r\n    if (screen.width <= 600) {\r\n        $('.js-footer-dropdown').on('click', function () {\r\n            let element = $(this).next('.footer__nav--mobile-folded')\r\n            $(this).next('.footer__nav--mobile-folded').slideToggle({\r\n                start: function () {\r\n                    $(this).css('display', 'block')\r\n                }\r\n            }).toggleClass('opened');\r\n            element.css('display', 'block');\r\n            $(this).toggleClass('opened');\r\n        })\r\n    }\r\n\r\n    $('.js-tab-toggle').on('click', function () {\r\n        $('.js-tab-toggle').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('.js-tab').removeClass('active');\r\n        $('#' + $(this).attr('data-tabs')).addClass('active');\r\n    });\r\n\r\n    let colorStars = (element) => {\r\n        let starsScore = element.attr('data-rating');\r\n        let numberOfFilledStars = Math.trunc(starsScore);\r\n        let percentOfLastStar = (starsScore - numberOfFilledStars) * 100;\r\n        element.find('.star').each(function (index) {\r\n            $(this).find('.star__icon--active').css('width', '0')\r\n            if (index < numberOfFilledStars) {\r\n                $(this).find('.star__icon--active').css('width', '100%')\r\n            } else if (index == numberOfFilledStars) {\r\n                $(this).find('.star__icon--active').css('width', `${percentOfLastStar}%`)\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-stars').each(function () {\r\n        colorStars($(this));\r\n    });\r\n\r\n    $('.js-to-cart').on('click', function () {\r\n        $(this).addClass('pushed').attr('href', '#').off();\r\n        $(this).find('span').text('Перейти в корзину');\r\n    });\r\n\r\n    $('.js-clickable-star').on('click', function () {\r\n        $(this).parents('.js-stars').attr('data-rating', $(this).index() + 1);\r\n        $(this).parents('.js-stars').find('.js-input-stars').val($(this).index() + 1);\r\n        colorStars($(this).parents('.js-stars'));\r\n    });\r\n\r\n    $('.js-cart-delete').on('click', function () {\r\n        let cartItem = $(this).parents('.cart-items__item');\r\n        cartItem.toggleClass('pre-deleted');\r\n        $(this).find('.cart-items__item-delete-icon').toggleClass('hidden');\r\n        $(this).find('span').text(cartItem.hasClass('pre-deleted') ? 'Вернуть' : 'Удалить')\r\n\r\n    });\r\n\r\n    $('.js-slide-down').on('click', function () {\r\n        $(this).next('.js-slide-down-wrapper').slideToggle()\r\n        $(this).toggleClass('opened');\r\n    });\r\n\r\n    $('.js-scroll-to').on('click', function () {\r\n        const elementToScroll = '#' + $(this).attr('data-scroll');\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: $(elementToScroll).offset().top\r\n        }, 1000);\r\n    });\r\n\r\n    /* END Misc */\r\n\r\n});\r\n\r\n\r\n"]}