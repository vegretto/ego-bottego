{"version":3,"sources":["main.js"],"names":["$","document","ready","eacOptions","data","list","maxNumberOfElements","initEAC","elem","hasClass","addClass","easyAutocomplete","screen","width","on","this","containerWidth","parents","find","searchInput","css","animate","eacWrapper","focus","attr","setTimeout","removeClass","dropdownId","dropdownElement","vThis","is","div","createElement","style","overflowY","height","body","append","scrollWidth","offsetWidth","clientWidth","remove","renderClickableBG","isDark","elementToClose","renderParent","blockScroll","fadeOut","fadeIn","e","preventDefault","modalToOpen","modalToClose","toggleClass","parent","slideToggle","Swiper","loop","lazy","navigation","nextEl","prevEl","pagination","el","clickable","sideSlidesTransparency","slider","visibleSlides","eq","prev","next","forEach","element","ProductSlider","centeredSlides","slidesPerView","spaceBetween","watchSlidesProgress","watchSlidesVisibility","watchOverflow","breakpoints","767","init","initProductSlider","each","productCardThumbSlider","direction","phoneInputs","thumbs","swiper","600","1199","querySelectorAll","maskOptions","mask","IMask","removeFilterItem","target","text","filter","prop","addFilter","elementText","additionalClass","filterItem","class","html","closePopup","popup","isChecked","isAllowed","filterText","optionValue","customSelect","val","change","customNum","siblings","Number","length","datepicker","autoClose","mapsToLoad","id","mapWithForm","item","mapId","mapJsonPath","myGeoObjects","objectsCounter","getJSON","city","cityElem","cityCenterCoords","className","innerText","shops","addEventListener","shopsWrapper","shop","shopElem","innerHTML","name","closest","classList","add","querySelector","checked","address","worktime","phone","balloonInner","placemark","ymaps","Placemark","coords","balloonContent","hideIconOnBalloonOpen","balloonOffset","iconLayout","iconImageHref","push","myMap","setCenter","balloon","isOpen","close","open","elementWhereToScroll","documentElement","scrollTop","offset","top","citiesNum","cityCenter","citiesBtn","Map","center","zoom","controls","geoObjects","behaviors","disable","prepareMap","check_if_load","checkLoadMap","url","callback","script","readyState","onreadystatechange","onload","src","getElementsByTagName","appendChild","moveElement","screenSize","appendTo","prependTo","start","colorStars","starsScore","numberOfFilledStars","Math","trunc","percentOfLastStar","index","off","cartItem","elementToScroll"],"mappings":"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","file":"main.min.js","sourcesContent":["$(document).ready(function () {\r\n\r\n    /* Header Search Input */\r\n    const eacOptions =\r\n        {\r\n            data: [\"Колье белое с золотом\", \"Колье-галстук\", \"Колье Эстер\", \"Колье Кокетка\", \"Колье Pupa\", \"Колье белое с золотом1\", \"Колье-галстук2\", \"Колье Эстер3\", \"Колье Кокетка4\", \"Колье Pupa5\"],\r\n            list: {\r\n                maxNumberOfElements: 15,\r\n            }\r\n        };\r\n\r\n    const eacCities =\r\n        {\r\n            data: [\"Пятигорск\", \"Краснодар\", \"Ростов\", \"Ессентуки\", \"Нью-Йорк\"],\r\n            list: {\r\n                maxNumberOfElements: 15,\r\n            }\r\n        };\r\n\r\n    let initEAC = (elem, data) => {\r\n        if (!elem.hasClass('eac-initialized')) {\r\n            elem.addClass('eac-initialized');\r\n            elem.easyAutocomplete(data);\r\n        }\r\n    }\r\n\r\n    initEAC($('.js-city-autocomplete'), eacCities);\r\n\r\n    if (screen.width > 991) {\r\n\r\n        $('.js-header-search').on('click', function () {\r\n            if (!$(this).hasClass('expanded')) {\r\n                const containerWidth = $(this).parents('.container').width();\r\n                $(this).addClass('expanded');\r\n                $(this).find('span').addClass('hidden');\r\n                const searchInput = $(this).find('.header__search-input');\r\n                searchInput.addClass('visible');\r\n                searchInput.css('width', '45px');\r\n                searchInput.animate({'width': containerWidth / 6});\r\n                initEAC($('.js-easy-autocomplete'), eacOptions);\r\n                const eacWrapper = $(this).find('.easy-autocomplete');\r\n                eacWrapper.css('width', '45px');\r\n                eacWrapper.animate({'width': containerWidth / 6});\r\n                searchInput.focus();\r\n            }\r\n        })\r\n    }\r\n    else {\r\n        $('.js-header-search').addClass('js-open-modal js-init-eac').attr('data-modal', 'modal-mobile-search')\r\n        $('.js-init-eac').on('click', function () {\r\n            setTimeout(() => {\r\n                initEAC($('.js-easy-autocomplete-modal'), eacOptions);\r\n            }, 402)\r\n\r\n        });\r\n    }\r\n    /* END Header Search Input */\r\n\r\n    /* Menu Dropdown */\r\n    $('.js-menu-dropdown').on('mouseover', function () {\r\n        $('.js-menu-dropdown').removeClass('active');\r\n        $('.header__dropdown').removeClass('show');\r\n        let dropdownId = $(this).attr('data-dropdown-id');\r\n        let dropdownElement = $(`#${dropdownId}`);\r\n        $(this).addClass('active');\r\n        dropdownElement.addClass('show');\r\n        $(this).on('mouseout', function () {\r\n            let vThis = $(this);\r\n            if (!dropdownElement.is(':hover')) {\r\n                $(this).removeClass('active');\r\n                $(`#${dropdownId}`).removeClass('show');\r\n            }\r\n            dropdownElement.on('mouseleave', function () {\r\n                vThis.removeClass('active');\r\n                $(this).removeClass('show');\r\n            });\r\n        })\r\n    })\r\n    /* END Menu Dropdown */\r\n\r\n    /*--Overflow scroll glitch fix---*/\r\n\r\n    let div = document.createElement('div');\r\n\r\n    div.style.overflowY = 'scroll';\r\n    div.style.width = '50px';\r\n    div.style.height = '50px';\r\n\r\n    document.body.append(div);\r\n    let scrollWidth = div.offsetWidth - div.clientWidth;\r\n    div.remove();\r\n\r\n    /*--END Overflow scroll glitch fix---*/\r\n\r\n    /* Modals */\r\n    let renderClickableBG = (isDark, elementToClose, renderParent=$('body'), blockScroll=true) => {\r\n        renderParent.append('<div class=\"clickable-bg\"></div>');\r\n        if (blockScroll) {\r\n            $('body').addClass('modal-opened').css('padding-right', scrollWidth);\r\n        }\r\n        if (isDark) {\r\n            $('.clickable-bg').addClass('clickable-bg--dark').fadeOut(1).fadeIn(400);\r\n        }\r\n        $('.clickable-bg').on('click', function () {\r\n            $(this).remove();\r\n            if (elementToClose) {\r\n                elementToClose.removeClass('opened');\r\n                $('body').removeClass('modal-opened').css('padding-right', 0);\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-open-modal').on('click', function (e) {\r\n        e.preventDefault();\r\n        let modalToOpen = $(this).attr('data-modal');\r\n        $(`#${modalToOpen}`).addClass('opened').fadeOut(1).fadeIn(400);\r\n        $('body').addClass('modal-opened').css('padding-right', scrollWidth);\r\n        renderClickableBG(true, $(`#${modalToOpen}`), $(`#${modalToOpen}`))\r\n    })\r\n\r\n    $('.js-close-modal').on('click', function () {\r\n        let modalToClose = $(this).parents('.modal');\r\n        modalToClose.removeClass('opened');\r\n        $('body').removeClass('modal-opened').css('padding-right', 0);\r\n        modalToClose.find(('.clickable-bg')).remove();\r\n    })\r\n\r\n    /* END Modals */\r\n\r\n    /* Mobile Menu */\r\n    $('.js-open-mob-menu').on('click', function () {\r\n        $('.mobile-menu').addClass('opened');\r\n        renderClickableBG(true, $('.mobile-menu'));\r\n    });\r\n\r\n    $('.js-close-mobile-menu').on('click', function () {\r\n        $('.clickable-bg').remove();\r\n        $('.mobile-menu').removeClass('opened');\r\n        $('body').removeClass('modal-opened').css('padding-right', 0)\r\n    });\r\n\r\n    $('.js-open-dropdown').on('click', function () {\r\n        $(this).find($('.mobile-menu__nav-dropdown')).addClass('active');\r\n        $('.mobile-menu__top').addClass('show-back');\r\n        $('.mobile-menu').addClass('dd-opened');\r\n    })\r\n\r\n    $('.js-mob-back').on('click', function () {\r\n        $('.mobile-menu__nav-dropdown.active').removeClass('active');\r\n        $('.mobile-menu__top').removeClass('show-back');\r\n        $('.mobile-menu').removeClass('dd-opened');\r\n    })\r\n\r\n    $('.js-filter-dropdown').on('click', function () {\r\n        $(this).toggleClass('active');\r\n        $(this).parent().find('.js-filter-dropdown-box').slideToggle('300');\r\n    })\r\n    /* END Mobile Menu */\r\n\r\n    /* Sliders */\r\n\r\n    const mainSlider = new Swiper('.js-main-slider', {\r\n        loop: true,\r\n        lazy: true,\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        pagination: {\r\n            el: '.slider-pagination',\r\n            clickable: true,\r\n        }\r\n    });\r\n\r\n    let sideSlidesTransparency = (slider) => {\r\n        let visibleSlides = slider.find('.swiper-slide-visible');\r\n        slider.find('.swiper-slide').removeClass('semi-transparent')\r\n        visibleSlides.eq(0).addClass('semi-transparent')\r\n        visibleSlides.eq(0).prev().addClass('semi-transparent')\r\n        visibleSlides.eq(-1).addClass('semi-transparent')\r\n        visibleSlides.eq(-1).next().addClass('semi-transparent')\r\n    }\r\n\r\n    let initProductSlider = (element) => {\r\n        const ProductSlider = new Swiper(element, {\r\n            loop: true,\r\n            lazy: true,\r\n            centeredSlides: false,\r\n            slidesPerView: 2,\r\n            spaceBetween: 20,\r\n            navigation: {\r\n                nextEl: '.slider-button--next',\r\n                prevEl: '.slider-button--prev',\r\n            },\r\n            watchSlidesProgress: true,\r\n            watchSlidesVisibility: true,\r\n            watchOverflow: true,\r\n            breakpoints: {\r\n                767: {\r\n                    centeredSlides: true,\r\n                    slidesPerView: 'auto',\r\n                    spaceBetween: 0,\r\n                }\r\n            },\r\n            on: {\r\n                init: function () {\r\n                    if (screen.width > 991) {\r\n                        let visibleSlides = $(element).find('.swiper-slide-visible');\r\n                        visibleSlides.eq(0).addClass('semi-transparent')\r\n                        visibleSlides.eq(0).prev().addClass('semi-transparent')\r\n                        visibleSlides.eq(-1).addClass('semi-transparent')\r\n                        visibleSlides.eq(-1).next().addClass('semi-transparent')\r\n                    }\r\n                },\r\n            }\r\n        });\r\n\r\n        if (screen.width > 991) {\r\n            ProductSlider.on('slideChange', function () {\r\n                sideSlidesTransparency($(element));\r\n            });\r\n            ProductSlider.on('touchEnd', function () {\r\n                sideSlidesTransparency($(element));\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    let productSliders = ['.js-best-sell-slider', '.js-hit-slider', '.js-category-slider', '.js-you-will-like-slider', '.js-buy-also-slider']\r\n\r\n    productSliders.forEach((element) => {\r\n        initProductSlider(element);\r\n    })\r\n\r\n    $('.js-inner-slider').each(function () {\r\n        const innerProductSlider = new Swiper($(this)[0], {\r\n            lazy: true,\r\n            pagination: {\r\n                el: '.slider-pagination',\r\n                clickable: true,\r\n            }\r\n        });\r\n    })\r\n\r\n    $('.js-cart-slider').each(function () {\r\n        const cartSlider = new Swiper($(this)[0], {\r\n            lazy: true,\r\n            spaceBetween: 0,\r\n            navigation: {\r\n                nextEl: '.slider-button--next',\r\n                prevEl: '.slider-button--prev',\r\n            },\r\n            breakpoints: {\r\n                767: {\r\n                    spaceBetween: 15,\r\n                }\r\n            },\r\n        });\r\n    })\r\n\r\n    const productCardThumbSlider = new Swiper('.js-product-thumb-slider', {\r\n        lazy: true,\r\n        slidesPerView: 'auto',\r\n        watchSlidesVisibility: true,\r\n        watchSlidesProgress: true,\r\n        spaceBetween: 10,\r\n        breakpoints: {\r\n            767: {\r\n                slidesPerView: 5,\r\n                direction: 'vertical',\r\n            }\r\n        },\r\n    });\r\n\r\n    const productCardMainSlider = new Swiper('.js-product-main-slider', {\r\n        lazy: true,\r\n        slidesPerView: 1,\r\n        thumbs: {\r\n            swiper: productCardThumbSlider,\r\n        },\r\n    });\r\n\r\n    const testimonialsSlider = new Swiper('.js-testimonials-slider', {\r\n        spaceBetween: 10,\r\n        lazy: true,\r\n        slidesPerView: 1,\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        breakpoints: {\r\n            600: {\r\n                spaceBetween: 30,\r\n            },\r\n            767: {\r\n                spaceBetween: 140,\r\n            }\r\n        },\r\n    });\r\n\r\n    const newsSlider = new Swiper('.js-news-slider', {\r\n        spaceBetween: 60,\r\n        lazy: true,\r\n        slidesPerView: '1',\r\n        navigation: {\r\n            nextEl: '.slider-button--next',\r\n            prevEl: '.slider-button--prev',\r\n        },\r\n        breakpoints: {\r\n            1199: {\r\n                slidesPerView: '2',\r\n            },\r\n        },\r\n    });\r\n\r\n\r\n    /* END Sliders */\r\n\r\n    /* Inputs */\r\n\r\n    const phoneInputs = document.querySelectorAll(\"input[type='tel']\");\r\n    const maskOptions = {\r\n        mask: '+{0}(000)000-00-00'\r\n    };\r\n    phoneInputs.forEach((element) => {\r\n        const mask = IMask(element, maskOptions);\r\n    })\r\n\r\n    let removeFilterItem = (target, text) => {\r\n        if (screen.width <= 600) {\r\n            if (target.hasClass('product-filter__item--type')) {\r\n                let filter = $('.mobile-filters__dropdown--type').find('.form-group.choosen');\r\n                filter.removeClass('choosen');\r\n                filter.find('.custom-radio').prop('checked', false);\r\n            }\r\n\r\n            $('.mobile-filters__dropdown').find('.custom-checkbox__label').each(function () {\r\n                if ($(this).text() === text) {\r\n                    $(this).parents('.form-group').removeClass('checked');\r\n                    $(this).parents('.form-group').find('.js-custom-cb').removeClass('checked');\r\n                    $(this).parents('.form-group').find('.custom-radio').prop('checked', false);\r\n                }\r\n            })\r\n        }\r\n        target.remove();\r\n    }\r\n\r\n    let addFilter = (elementText, parent, additionalClass='') => {\r\n\r\n        let filterItem = $('<div/>', {\r\n            \"class\": `product-filter__item js-filter-item ${additionalClass}`,\r\n        })\r\n        filterItem.html(`<span>${elementText}</span>\r\n                <div class=\"product-filter__item-bg product-filter__item-bg--red\">\r\n                    <picture>\r\n                        <source data-srcset=\"img/prod-filter-bg-red.webp\" type=\"image/webp\" srcset=\"img/prod-filter-bg-red.webp\">\r\n                        <img class=\" lazyloaded\" data-src=\"img/prod-filter-bg-red.png\" alt=\"image\" width=\"107\" height=\"31\" src=\"img/prod-filter-bg-red.png\">\r\n                    </picture>\r\n                </div>`)\r\n        filterItem.on('click', function () {\r\n            removeFilterItem(filterItem, elementText)\r\n        })\r\n        parent.append(filterItem);\r\n    }\r\n\r\n    if (screen.width <= 600) {\r\n        $('.product-filter__sortby-title').addClass('js-open-popup');\r\n    }\r\n\r\n    let closePopup = (popup) => {\r\n        popup.removeClass('opened');\r\n        $('.clickable-bg').remove();\r\n    }\r\n\r\n    $('.js-radio').on('click',function () {\r\n        $(this).parent().find('.js-radio').removeClass('choosen');\r\n        $(this).addClass('choosen');\r\n        $(this).find('.custom-radio').prop('checked', true);\r\n    });\r\n\r\n    $('.js-filter-radio').on('click',function () {\r\n        $(this).parent().find('.js-filter-radio').removeClass('choosen');\r\n        $(this).addClass('choosen');\r\n        $(this).find('.custom-radio').prop('checked', true);\r\n        if (screen.width > 600) {\r\n            $(this).parents('.product-filter__items-box').find('.js-filter-item').remove();\r\n            addFilter($(this).find('.custom-radio__label').text(), $(this).parents('.product-filter__items-box'));\r\n            closePopup($(this).parents('.js-popup'));\r\n        }\r\n        else {\r\n            $('.mobile-filters__chosen-filters').find('.js-filter-item.product-filter__item--type').remove();\r\n            addFilter($(this).find('.custom-radio__label').text(), $('.mobile-filters__chosen-filters'), 'product-filter__item--type');\r\n        }\r\n    })\r\n\r\n    $('.js-checkbox').on('click',function () {\r\n        $(this).toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n        $(this).find('.custom-checkbox').prop('checked', !isChecked);\r\n    });\r\n\r\n    $('.js-filter-checkbox').on('click',function () {\r\n        $(this).toggleClass('checked').find('.custom-cb-badge').toggleClass('checked');\r\n        let isChecked = $(this).find('.custom-checkbox').prop('checked');\r\n        let isAllowed = true;\r\n        $(this).find('.custom-checkbox').prop('checked', !isChecked);\r\n        if (screen.width <= 600) {\r\n            let filterText = $(this).find('.custom-checkbox__label').text();\r\n            $('.mobile-filters__chosen-filters .product-filter__item span').each(function () {\r\n                if ($(this).text() === filterText) {\r\n                    $(this).parents('.js-filter-item').remove();\r\n                    isAllowed = false;\r\n                }\r\n            });\r\n            if (isAllowed) {\r\n                addFilter(filterText, $('.mobile-filters__chosen-filters'));\r\n            }\r\n        }\r\n    });\r\n\r\n    $('.js-popup-apply').on('click', function (e) {\r\n        e.preventDefault();\r\n        $(this).parents('.product-filter__items-box').find('.js-filter-item').remove();\r\n        $(this).parents('.js-popup').find('.js-filter-checkbox').each(function () {\r\n            if ($(this).hasClass('checked')) {\r\n                addFilter($(this).find('.custom-checkbox__label').text(), $(this).parents('.product-filter__items-box'));\r\n            }\r\n        });\r\n        closePopup($(this).parents('.js-popup'));\r\n    });\r\n\r\n    $('.js-sort-item').on('click', function () {\r\n        $(this).parents('.product-filter__sortby').find('.js-sort-text').text($(this).text())\r\n        closePopup($(this).parents('.js-popup'));\r\n    });\r\n\r\n    $('.js-clear-filter').on('click', function () {\r\n        $('.product-filter__item').remove();\r\n        $('.form-group').removeClass('checked');\r\n        $('.js-custom-cb').removeClass('checked');\r\n        $('.js-radio').removeClass('choosen');\r\n        $('.product-filter__item input').prop('checked', false);\r\n    });\r\n\r\n    $('.js-filter-item').on('click', function () {\r\n        removeFilterItem($(this), $(this).find('span').text())\r\n    })\r\n\r\n    $('.js-custom-select .custom-select-option').on('click', function () {\r\n        let optionValue = $(this).text();\r\n        let customSelect = $(this).parents('.js-custom-select');\r\n        customSelect.find('.custom-select__value').text(optionValue);\r\n        setTimeout(function () {\r\n            $('.clickable-bg').remove();\r\n        }, 50);\r\n        customSelect.find('option').each(function () {\r\n            if ($(this).text() === optionValue) {\r\n                customSelect.find('select').val(optionValue).change();\r\n            }\r\n        })\r\n    })\r\n\r\n    $('.js-qnty-minus').on('click', function () {\r\n        let customNum = $(this).siblings('.js-qnty-num');\r\n        if (customNum.val() >= 2 ) {\r\n            customNum.val(Number(customNum.val()) - 1);\r\n        }\r\n    })\r\n\r\n    $('.js-qnty-plus').on('click', function () {\r\n        let customNum = $(this).siblings('.js-qnty-num')\r\n        customNum.val(Number(customNum.val()) + 1);\r\n    })\r\n\r\n    /* END  Inputs */\r\n\r\n    /*------ Datepicker -------*/\r\n    if ($('.datepicker-wrapper').length > 0) {\r\n\r\n        $('#account-birth-date').datepicker({\r\n            autoClose: true,\r\n        })\r\n\r\n    }\r\n    /*------ END Datepicker -------*/\r\n\r\n\r\n\r\n    /*--Maps--*/\r\n    function loadScript(url, callback){\r\n\r\n        var script = document.createElement(\"script\");\r\n\r\n        if (script.readyState){  //IE\r\n            script.onreadystatechange = function(){\r\n                if (script.readyState == \"loaded\" ||\r\n                    script.readyState == \"complete\"){\r\n                    script.onreadystatechange = null;\r\n                    callback();\r\n                }\r\n            };\r\n        } else {\r\n            script.onload = function(){\r\n                callback();\r\n            };\r\n        }\r\n        script.src = url;\r\n        document.getElementsByTagName(\"head\")[0].appendChild(script);\r\n    }\r\n\r\n    //Айдишники и параметры карт для загрузки\r\n    let mapsToLoad = [\r\n        {\r\n            id: 'modal-map-container',\r\n            mapWithForm: true,\r\n        },\r\n        {\r\n            id: 'page-map-container',\r\n            mapWithForm: false,\r\n        },\r\n    ]\r\n\r\n    function init(){\r\n        // Создание карт.\r\n        function prepareMap (mapId, mapWithForm) {\r\n\r\n            let mapJsonPath = $('.js-shops').attr('data-json');\r\n            let myGeoObjects = [];\r\n            let objectsCounter = 0;\r\n            $.getJSON(mapJsonPath, function(data) {\r\n                data.forEach(city => {\r\n                    let cityElem = document.createElement('div');\r\n                    let cityCenterCoords = [0, 0];\r\n                    cityElem.className = `shops__city ${(objectsCounter === 0 ? \"opened\" : \"\")} js-slide-down`;\r\n                    cityElem.innerText = `${city.city} ${city.shops.length}`;\r\n\r\n                    cityElem.addEventListener('click', function () {\r\n                        $(this).next('.js-slide-down-wrapper').slideToggle();\r\n                        $(this).toggleClass('opened');\r\n                    })\r\n\r\n                    let shopsWrapper = document.createElement('div');\r\n                    shopsWrapper.className = `shops__cities-box ${(objectsCounter === 0 ? \"opened\" : \"\")} js-slide-down-wrapper`;\r\n\r\n                    city.shops.forEach(shop => {\r\n                        let shopElem = null;\r\n                        if (mapWithForm) {\r\n                            shopElem = document.createElement('div');\r\n                            shopElem.className = \"form-group form-group--radio js-radio\";\r\n                            shopElem.innerHTML = `\r\n                            <label class=\"custom-radio__label\" for=\"modal-radio[${objectsCounter}]\">${shop.name}</label>\r\n                            <input class=\"custom-radio\" type=\"radio\" name=\"form-group-radio\" id=\"modal-radio[${objectsCounter}]\">`\r\n                            shopElem.addEventListener('click', function () {\r\n                                this.closest('.shops__list').querySelectorAll('.js-radio').forEach(function (item) {\r\n                                    item.classList.remove('choosen');\r\n                                })\r\n                                this.classList.add('choosen');\r\n                                this.querySelector('.custom-radio').checked = true;\r\n                            })\r\n                            shopsWrapper.append(shopElem);\r\n                        }\r\n                        else {\r\n                            shopElem = document.createElement('div');\r\n                            shopElem.className = \"shops__item\";\r\n                            shopElem.innerHTML = `\r\n                                <div class=\"shops__item-inner shops__item-address\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"img/svg/sprite.svg#marker\"></use>\r\n                                    </svg>\r\n                                    ${shop.address}\r\n                                </div>\r\n                                <div class=\"shops__item-inner shops__item-worktime\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"img/svg/sprite.svg#clock\"></use>\r\n                                    </svg>\r\n                                    Режим работы ${shop.worktime}\r\n                                </div>\r\n                                <a href=\"tel:${shop.phone}\" class=\" shops__item-inner shops__item-phone\">\r\n                                    <svg class=\"icon icon-marker\">\r\n                                        <use xlink:href=\"img/svg/sprite.svg#phone2\"></use>\r\n                                    </svg>\r\n                                    ${shop.phone}\r\n                                </a>`\r\n                            shopsWrapper.append(shopElem);\r\n                        }\r\n\r\n                        objectsCounter++;\r\n                        let balloonInner =\r\n                            `<div class=\"custom-balloon\">\r\n                                    <div class=\"custom-balloon__bg\"></div>\r\n                                    <div class=\"custom-balloon__text\"><b>${shop.name}</b></div>\r\n                                    <div class=\"custom-balloon__text\">${shop.address}</div>\r\n                                    <div class=\"custom-balloon__text\">Режим работы ${shop.worktime}</div>\r\n                             </div>`\r\n\r\n                        let placemark = new ymaps.Placemark(shop.coords, {\r\n                                balloonContent: balloonInner,\r\n                            },\r\n                            {\r\n                                hideIconOnBalloonOpen: false,\r\n                                balloonOffset: [4, -37],\r\n                                iconLayout: 'default#image',\r\n                                iconImageHref: 'img/svg/marker.svg',\r\n                            });\r\n\r\n\r\n                        myGeoObjects.push(placemark)\r\n\r\n                        shopElem.addEventListener('click', function () {\r\n                            myMap.setCenter(shop.coords, 17);\r\n                            if (!placemark.balloon.isOpen()) {\r\n                                placemark.balloon.open();\r\n                            } else {\r\n                                placemark.balloon.close();\r\n                            }\r\n                            if (screen.width < 991) {\r\n                                let elementWhereToScroll;\r\n                                if ($('#modal-map').length > 0) {\r\n                                    elementWhereToScroll = '.modal__box';\r\n                                }\r\n                                else {\r\n                                    elementWhereToScroll = [document.documentElement, document.body]\r\n                                }\r\n                                $(elementWhereToScroll).animate({\r\n                                    scrollTop: $('.shops__map-container').offset().top - 50\r\n                                }, 700);\r\n                            }\r\n                        })\r\n                        cityCenterCoords[0] +=Number(shop.coords[0]);\r\n                        cityCenterCoords[1] +=Number(shop.coords[1]);\r\n                    })\r\n                    let citiesNum = city.shops.length;\r\n                    let cityCenter = [cityCenterCoords[0] / citiesNum, cityCenterCoords[1] / citiesNum];\r\n                    document.querySelector('.shops__list').append(cityElem)\r\n                    document.querySelector('.shops__list').append(shopsWrapper)\r\n                    let citiesBtn = document.createElement('div');\r\n                    citiesBtn.className = `common-btn-simple`;\r\n                    citiesBtn.innerText = `Все магазины г. ${city.city}`\r\n                    citiesBtn.addEventListener('click', function () {\r\n                        myMap.setCenter(cityCenter, 13);\r\n                    })\r\n                    shopsWrapper.append(citiesBtn)\r\n                })\r\n\r\n\r\n                var myMap = new ymaps.Map(mapId, {\r\n                    center: data[0].shops[0].coords,\r\n                    zoom: 13,\r\n                    controls: ['zoomControl'],\r\n                });\r\n\r\n                myGeoObjects.forEach(item => {\r\n                    myMap.geoObjects.add(item);\r\n                })\r\n                myMap.behaviors.disable('scrollZoom');\r\n            });\r\n\r\n        }\r\n\r\n        mapsToLoad.forEach(item => {\r\n            if ($('#' + item.id).length > 0) {\r\n                prepareMap(item.id, item.mapWithForm)\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    let check_if_load = false;\r\n    const checkLoadMap = () => {\r\n        if (!check_if_load) {\r\n            check_if_load = true;\r\n            loadScript(\"https://api-maps.yandex.ru/2.1/?apikey=04709a29-6f21-442a-9cb5-272b39900456&lang=ru_RU\", function(){\r\n                ymaps.ready(init);\r\n            });\r\n        }\r\n    }\r\n\r\n    if ($('.map-container').length > 0) {\r\n        checkLoadMap();\r\n    }\r\n\r\n\r\n    /*--END Maps--*/\r\n\r\n\r\n    /* Misc */\r\n    $('.js-toggle-active').on('click', function () {\r\n        $(this).toggleClass('active');\r\n    })\r\n\r\n    let moveElement = (element, target, screenSize, append=true) => {\r\n        if (screen.width < screenSize) {\r\n            if (append) {\r\n                $(element).appendTo(target);\r\n            }\r\n            else {\r\n                $(element).prependTo(target);\r\n            }\r\n        }\r\n    }\r\n\r\n    moveElement('.optics-block__title', '.optics-block__inner', 768, false);\r\n\r\n    moveElement('.optics-block__btn', '.optics-block .container', 768);\r\n\r\n    moveElement('.product-filter__sortby', '.product-filter__mobile-wrapper', 991 );\r\n\r\n    moveElement('.product-filter__sortby .product-filter__popup', '.product-filter__sortby', 600 );\r\n\r\n    moveElement('.product-filter__popup--type .form-group', '.mobile-filters__dropdown--type', 600 );\r\n\r\n    moveElement('.product-filter__popup--material .form-group', '.mobile-filters__dropdown--material', 600 );\r\n\r\n    moveElement('.product-filter__popup--color .form-group', '.mobile-filters__dropdown--color', 600 );\r\n\r\n    moveElement('.product-filter__popup--price .form-group', '.mobile-filters__dropdown--price', 600 );\r\n\r\n\r\n\r\n    $('.js-open-popup').on('click', function () {\r\n        $('.js-open-popup').removeClass('opened');\r\n        let popup = $(this).parent().find('.js-popup');\r\n        popup.toggleClass('opened');\r\n        renderClickableBG(false, popup, $('body'), false);\r\n    })\r\n\r\n\r\n    if (screen.width <= 600) {\r\n        $('.js-footer-dropdown').on('click', function () {\r\n            let element = $(this).next('.footer__nav--mobile-folded')\r\n            $(this).next('.footer__nav--mobile-folded').slideToggle({\r\n                start: function () {\r\n                    $(this).css('display', 'block')\r\n                }\r\n            }).toggleClass('opened');\r\n            element.css('display', 'block');\r\n            $(this).toggleClass('opened');\r\n        })\r\n    }\r\n\r\n    $('.js-tab-toggle').on('click', function () {\r\n        $('.js-tab-toggle').removeClass('active');\r\n        $(this).addClass('active');\r\n        $('.js-tab').removeClass('active');\r\n        $('#' + $(this).attr('data-tabs')).addClass('active');\r\n    });\r\n\r\n    let colorStars = (element) => {\r\n        let starsScore = element.attr('data-rating');\r\n        let numberOfFilledStars = Math.trunc(starsScore);\r\n        let percentOfLastStar = (starsScore - numberOfFilledStars) * 100;\r\n        element.find('.star').each(function (index) {\r\n            $(this).find('.star__icon--active').css('width', '0')\r\n            if (index < numberOfFilledStars) {\r\n                $(this).find('.star__icon--active').css('width', '100%')\r\n            } else if (index == numberOfFilledStars) {\r\n                $(this).find('.star__icon--active').css('width', `${percentOfLastStar}%`)\r\n            }\r\n        })\r\n    }\r\n\r\n    $('.js-stars').each(function () {\r\n        colorStars($(this));\r\n    });\r\n\r\n    $('.js-to-cart').on('click', function () {\r\n        $(this).addClass('pushed').attr('href', '#').off();\r\n        $(this).find('span').text('Перейти в корзину');\r\n    });\r\n\r\n    $('.js-clickable-star').on('click', function () {\r\n        $(this).parents('.js-stars').attr('data-rating', $(this).index() + 1);\r\n        colorStars($(this).parents('.js-stars'));\r\n    });\r\n\r\n    $('.js-cart-delete').on('click', function () {\r\n        let cartItem = $(this).parents('.cart-items__item');\r\n        cartItem.toggleClass('pre-deleted');\r\n        $(this).find('.cart-items__item-delete-icon').toggleClass('hidden');\r\n        $(this).find('span').text(cartItem.hasClass('pre-deleted') ? 'Вернуть' : 'Удалить')\r\n\r\n    });\r\n\r\n    $('.js-slide-down').on('click', function () {\r\n        $(this).next('.js-slide-down-wrapper').slideToggle()\r\n        $(this).toggleClass('opened');\r\n    });\r\n\r\n    $('.js-scroll-to').on('click', function () {\r\n        const elementToScroll = '#' + $(this).attr('data-scroll');\r\n        $([document.documentElement, document.body]).animate({\r\n            scrollTop: $(elementToScroll).offset().top\r\n        }, 1000);\r\n    });\r\n\r\n    /* END Misc */\r\n\r\n});\r\n\r\n\r\n"]}